if (self.CavalryLogger) { CavalryLogger.start_js(["LaXmV"]); }

__d("PublishingToolsSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COPYRIGHT_MATCH_PERMALINK:"copyright_match_permalink",DRAFTS_POSTS_TIMELINE_PAGELET:"draft_timeline_pagelet",EXPIRING_POSTS_TIMELINE_PAGELET:"expiring_timeline_pagelet",IA_URL_GROWTH_QP:"ia_url_growth_qp",NOTIFICATION:"notif",OPTIMISTIC_VIDEO_POST:"optimistic_video_post",PAGES_MANAGER_BAR:"pages_manager_bar",SCHEDULED_POSTS_TIMELINE_PAGELET:"scheduled_timeline_pagelet",UNKNOWN:"unknown",VIDEO_INSIGHTS:"video_insights",VIDEO_UPLOAD_CONFIRMATION_DIALOG:"video_upload_confirmation_dialog",VIDEOS_HUB:"videos_hub",VIDEOS_YOU_CAN_USE_TIMELINE_PAGELET:"crossposted_timeline_pagelet",VIDEO_EDIT_PERMALINK:"video_edit_permalink",VIDEO_LIBRARY_MEGAPHONE:"video_library_megaphone",VIDEO_UPLOAD_NOTIF:"video_upload_notif"};},null);
__d("PUWErrorCodes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BAD_JPEG:9901,WORKER_TERMINATED:9902,UNKNOWN_RESIZE_ERROR:9903,WORKER_ABORT:9904};},null);
__d("PUWMethods",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={DRAGDROP:"dragdrop",FILE_SELECTOR:"file_selector",VAULT:"vault",RECENT_PHOTOS:"recent_photos",PHOTOS_OF_YOU:"photos_of_you",METHOD_EDITOR:"editor",SUGGESTIONS:"suggestions",CAMERA:"camera",COPYPASTE:"copypaste"};},null);
__d('ProgressBar.react',['cx','React','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'UIProgressBar',propTypes:{value:i.number.isRequired,label:i.oneOfType([i.string,i.element]),min:i.number,max:i.number,size:i.oneOf(['small','large']),typesetting:i.oneOf(['float','inline']),isRounded:i.bool},getDefaultProps:function(){return {min:0,max:100,size:'large',typesetting:'inline',isRounded:false};},_calculatePercentage:function(){var k=this.props,l=Math.min(Math.max((k.value-k.min)/(k.max-k.min)*100,0),100);return l;},_hasLabel:function(){return this.props.label!=null&&this.props.size!=='small';},_isFloatingLabel:function(){return this._hasLabel()&&this.props.typesetting==='float';},_getLabel:function(){if(!this._hasLabel())return null;return this.props.label;},_getSpacer:function(){if(this._isFloatingLabel())return c('React').createElement('div',{className:"_6a"},' ');return null;},_getFillArea:function(){var k=Math.round(this._calculatePercentage()),l="_5e4k"+(k===0?' '+"_5e2d":'')+(k===100?' '+"_5e4j":''),m=this._getLabel();if(m)m=c('React').createElement('span',{className:"_5e2h"},m);var n=c('React').createElement('div',{className:l,style:{width:k+'%'}},this._getSpacer(),m);return n;},_getUnfillArea:function(){var k=this._getLabel();if(!k)return null;k=c('React').createElement('span',{className:"_5e2h _5e2n"},k);if(this._isFloatingLabel()){var l=this._calculatePercentage(),m={left:l+'%',width:l+'%'},n=c('React').createElement('div',{className:"_5e2g",style:m},this._getSpacer(),k);return n;}return k;},render:function(){var k="_5e4h"+(!this._isFloatingLabel()?' '+"_5e2k":'')+(this._isFloatingLabel()?' '+"_5e2j":'')+(this.props.size==='small'?' '+"_5e2l":'')+(this.props.isRounded===true?' '+"_5e2m":'');if(this._isFloatingLabel()){return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,k)}),c('React').createElement('div',{className:"_5e2k"},this._getUnfillArea(),this._getFillArea())));}else return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,k)}),this._getUnfillArea(),this._getFillArea()));}});f.exports=j;},null);
__d('OptimisticVideoPostUtils',['AsyncRequest'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={shouldShowOptimisticPost:function(i){if(i.isScheduledPost||i.isHiddenFromTimeline||i.isSecret||!i.isPageToPage&&!i.isToUserProfile||i.isDraft)return false;return true;},checkVideoStatus:function(i,j,k,l){new (c('AsyncRequest'))().setURI('/ajax/video/encode/feedback/ping/').setData({video_id:i}).setHandler(function(m){var n=m.getPayload();if(m.error||n.error){k(i,m);}else if(n.is_ready){j(i);}else l(i);}).send();}};f.exports=h;},null);
__d('BlobFactory',['emptyFunction'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=void 0,i=void 0;function j(){try{new b.Blob();i=true;}catch(l){i=false;}}var k=b.BlobBuilder||b.WebKitBlobBuilder||b.MozBlobBuilder||b.MSBlobBuilder;if(b.Blob){h={getBlob:function(l,m){l=l||[];m=m||{};if(i===undefined)j();if(i){return new b.Blob(l,m);}else{var n=new k();for(var o=0;o<l.length;o++)n.append(l[o]);return n.getBlob(m.type);}},isSupported:c('emptyFunction').thatReturnsTrue};}else h={getBlob:function(){},isSupported:c('emptyFunction').thatReturnsFalse};f.exports=h;},null);
__d('Emscripten',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={isSupported:function(){return (typeof Int32Array!=='undefined'&&typeof Float64Array!=='undefined'&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set);}};},null);
__d('WebWorker',['invariant','BanzaiLogger','WebWorkerConfig','BlobFactory','EventListener','URI','areSameOrigin','destroyOnUnload','SubscriptionsHandler','XHRRequest','arrayContains','emptyFunction','getCrossOriginTransport','performanceNow','memoize','filterObject'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=b.URL||b.webkitURL;function j(p){'use strict';this.$WebWorker1=false;this.$WebWorker2=null;this.$WebWorker3=p;this.$WebWorker4=null;this.$WebWorker5=c('emptyFunction');this.$WebWorker6=c('emptyFunction');this.$WebWorker7=[];this.$WebWorker8=false;this.$WebWorker9=new (c('SubscriptionsHandler'))();c('destroyOnUnload')(function(){if(!this.$WebWorker8)this.terminate();}.bind(this));this.$WebWorker10('constructed');}j.prototype.setMessageHandler=function(p){'use strict';this.$WebWorker5=p||c('emptyFunction');return this;};j.prototype.setErrorHandler=function(p){'use strict';this.$WebWorker6=p||c('emptyFunction');return this;};j.prototype.postMessage=function(p,q){'use strict';!!this.isCurrentState('constructed')?h(0):void 0;!!this.isCurrentState('terminated')?h(0):void 0;if(this.isCurrentState('preparing')){this.$WebWorker7.push(this.postMessage.bind(this,p,q));return this;}var r={type:'message',message:p};if(q){this.$WebWorker4.postMessage(r,q);}else this.$WebWorker4.postMessage(r);return this;};j.prototype.terminate=function(){'use strict';if(this.isCurrentState('executing'))this.$WebWorker4.terminate();if(!this.isCurrentState('terminated')){this.$WebWorker10('terminated');this.$WebWorker4=null;this.$WebWorker11();this.$WebWorker7=[];}return this;};j.prototype.execute=function(){'use strict';!!this.isCurrentState('terminated')?h(0):void 0;if(['preparing','executing'].some(this.isCurrentState,this))return this;this.$WebWorker10('preparing');j.prepareResource(this.$WebWorker3,this.$WebWorker12.bind(this));return this;};j.prototype.setAllowCrossPageTransition=function(p){'use strict';this.$WebWorker8=p;return this;};j.prototype.isCurrentState=function(p){'use strict';!c('arrayContains')(j.states,p)?h(0):void 0;return p===this.$WebWorker2;};j.prototype.$WebWorker12=function(){'use strict';!!this.isCurrentState('executing')?h(0):void 0;if(this.isCurrentState('terminated'))return;!(this.$WebWorker3.sameOriginURL||this.$WebWorker3.source)?h(0):void 0;if(this.$WebWorker3.sameOriginURL){this.$WebWorker4=new b.Worker(this.$WebWorker3.sameOriginURL);}else{this.$WebWorker4=new b.Worker(j.evalWorkerURL);this.$WebWorker4.postMessage(this.$WebWorker3.source);}this.$WebWorker13('ping',Date.now());if(this.$WebWorker3.dynamicModules)try{this.$WebWorker13('defineModules',this.$WebWorker3.dynamicModules);}catch(p){this.terminate();this.$WebWorker14('define_error',{message:p.message});throw p;}this.$WebWorker15();this.$WebWorker10('executing');this.$WebWorker7.forEach(function(q){return q();});this.$WebWorker7=null;};j.prototype.$WebWorker11=function(){'use strict';this.$WebWorker9.release();};j.prototype.$WebWorker13=function(p){for(var q=arguments.length,r=Array(q>1?q-1:0),s=1;s<q;s++)r[s-1]=arguments[s];'use strict';this.$WebWorker4.postMessage({type:p,args:r});};j.prototype.$WebWorker14=function(event,p){'use strict';j.$WebWorker14(event,this.$WebWorker3.name,babelHelpers['extends']({},p,{cross_page_transition:!!this.$WebWorker8,state:this.$WebWorker2}));};j.$WebWorker16=function(){'use strict';return Object.keys(c('filterObject')({object_url:j.$WebWorker17(),eval_url:n(),data_url:j.$WebWorker18(),worker:j.isSupported(),transferables:j.areTransferablesSupported()},function(p){return !!p;}));};j.prototype.$WebWorker15=function(){'use strict';this.$WebWorker9.addSubscriptions(c('EventListener').listen(this.$WebWorker4,'message',this.$WebWorker19.bind(this)),c('EventListener').listen(this.$WebWorker4,'error',this.$WebWorker20.bind(this)));};j.prototype.$WebWorker20=function(p){'use strict';var q=this.$WebWorker6(p);if(!q&&!p.defaultPrevented)this.$WebWorker14('exception',{message:p.message});};j.prototype.$WebWorker19=function(event){'use strict';var p=event.data;switch(p.type){case 'message':this.$WebWorker5(p.message);break;case 'pong':this.$WebWorker1=true;this.$WebWorker14('executed',{dt:Math.floor(p.args[1]-p.args[0]),bytes:this.$WebWorker3.source?this.$WebWorker3.source.length:-1});break;case 'terminate':this.terminate();break;case 'haste-error':this.terminate();this.$WebWorker14('haste_error',{message:p.message});break;case 'console':var q=p.args.shift();!c('arrayContains')(['log','error','info','debug','warn'],q)?h(0):void 0;b.console[q].apply(b.console,p.args);break;}};j.prototype.$WebWorker10=function(p){'use strict';!c('arrayContains')(j.states,p)?h(0):void 0;this.$WebWorker14('transition',{next_state:p});this.$WebWorker2=p;};j.prepareResource=function(p,q){'use strict';q=q||c('emptyFunction');!(p.sameOriginURL||p.url||p.source)?h(0):void 0;!!!j.isSupported()?h(0):void 0;if(p.sameOriginURL){q();}else if(p.url&&c('areSameOrigin')(new (c('URI'))(p.url),new (c('URI'))(b.location.href))){p.sameOriginURL=p.url;q();}else if(p.source){if(j.$WebWorker21())p.sameOriginURL=j.$WebWorker22(p.source);q();}else if(!p.loading){var r=c('performanceNow')();p.loading=[q];j.$WebWorker23(p.url,function(s){if(s){p.source=s;if(j.$WebWorker21())p.sameOriginURL=j.$WebWorker22(s);}j.$WebWorker14('prepared',p.name,{dt:Math.floor(c('performanceNow')()-r),bytes:s.length});p.loading.forEach(function(t){return t();});p.loading=false;});}else p.loading.push(q);return p;};j.releaseResource=function(p){'use strict';if(p.sameOriginURL.indexOf('blob:')===0){if(i.revokeObjectURL)i.revokeObjectURL(p.sameOriginURL);p.sameOriginURL=null;}return p;};j.isSupported=function(){'use strict';return m&&(j.$WebWorker21()||n());};j.areTransferablesSupported=function(){'use strict';return j.isSupported()&&o();};j.$WebWorker23=function(p,q){'use strict';new (c('XHRRequest'))(p).setTransportBuilder(c('getCrossOriginTransport')).setMethod('GET').setResponseHandler(function(r){q(r);}).setErrorHandler(q.bind(null,null)).send();};j.$WebWorker22=function(p){'use strict';!j.$WebWorker21()?h(0):void 0;if(j.$WebWorker17()){var q=c('BlobFactory').getBlob([p],{type:'application/javascript'});return i.createObjectURL(q);}if(j.$WebWorker18())return 'data:application/javascript,'+encodeURIComponent(p);};j.$WebWorker17=function(){'use strict';return c('BlobFactory').isSupported()&&k();};j.$WebWorker18=function(){'use strict';return l();};j.$WebWorker21=function(){'use strict';return j.$WebWorker17()||j.$WebWorker18();};j.$WebWorker14=function(event,p,q){'use strict';if(!c('WebWorkerConfig').logging.enabled)return;c('BanzaiLogger').log(c('WebWorkerConfig').logging.config,babelHelpers['extends']({},q,{features_array:j.$WebWorker16(),event:event,resource:p}));};var k=c('memoize')(function(){var p,q;if(!i||!i.createObjectURL)return false;try{p=i.createObjectURL(c('BlobFactory').getBlob([''],{type:'application/javascript'}));var s=new b.Worker(p);s.terminate();q=true;}catch(r){q=false;}finally{if(i.revokeObjectURL)i.revokeObjectURL(p);}return q;}),l=c('memoize')(function(){var p;try{var r=new b.Worker('data:application/javascript,');r.terminate();p=true;}catch(q){p=false;}return p;}),m=!!b.Worker,n=c('memoize')(function(){var p;try{var r=new b.Worker(j.evalWorkerURL);r.terminate();p=true;}catch(q){p=false;}return p;}),o=c('memoize')(function(){var p;try{var r=new b.Worker(j.evalWorkerURL),s=new ArrayBuffer(0);r.postMessage({buffer:s},[s]);r.terminate();p=true;}catch(q){p=false;}return p;});j.states=['constructed','preparing','executing','terminated'];j.evalWorkerURL=c('WebWorkerConfig').evalWorkerURL;f.exports=j;},null);
__d('PooledWebWorker',['WebWorker'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('WebWorker'));i=h&&h.prototype;function j(k,l,m){'use strict';i.constructor.call(this,m);this.$PooledWebWorker1=l;this.$PooledWebWorker2=k;}j.prototype.getIndex=function(){'use strict';return this.$PooledWebWorker1;};j.prototype.getPool=function(){'use strict';return this.$PooledWebWorker2;};f.exports=j;},null);
__d('WebWorkerPool',['PooledWebWorker','emptyFunction'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();h.isSupported=function(){'use strict';return c('PooledWebWorker').isSupported();};function h(i,j){'use strict';this.$WebWorkerPool1=[];for(var k=0;k<j;k++)this.$WebWorkerPool1.push(new (c('PooledWebWorker'))(this,k,i).setErrorHandler(this.$WebWorkerPool2).setMessageHandler(this.$WebWorkerPool3).execute());this.$WebWorkerPool4=0;}h.prototype.setMessageHandler=function(i){'use strict';this.$WebWorkerPool5=i||c('emptyFunction');return this;};h.prototype.setAllowCrossPageTransition=function(i){'use strict';this.$WebWorkerPool1.forEach(function(j){return j.setAllowCrossPageTransition(i);});return this;};h.prototype.setErrorHandler=function(i){'use strict';this.$WebWorkerPool6=i||c('emptyFunction');return this;};h.prototype.postMessage=function(){'use strict';var i=this.getWorker();for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];i.postMessage.apply(i,k);return i;};h.prototype.$WebWorkerPool3=function(){'use strict';for(var i=arguments.length,j=Array(i),k=0;k<i;k++)j[k]=arguments[k];j.unshift(this);this.getPool().$WebWorkerPool5.apply(this.getPool(),j);};h.prototype.$WebWorkerPool2=function(){'use strict';for(var i=arguments.length,j=Array(i),k=0;k<i;k++)j[k]=arguments[k];j.unshift(this);return this.getPool().$WebWorkerPool6.apply(this.getPool(),j);};h.prototype.getWorker=function(){'use strict';var i=this.$WebWorkerPool1[this.$WebWorkerPool4];this.$WebWorkerPool4=(this.$WebWorkerPool4+1)%this.$WebWorkerPool1.length;return i;};f.exports=h;},null);
__d('JpegResizer',['Emscripten','JpegResizerConfig','JpegResizeWorkerResource','WebWorker','WebWorkerPool','PUWErrorCodes'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=null;i.isSupported=function(){'use strict';return c('WebWorkerPool').isSupported()&&c('Emscripten').isSupported()&&!c('JpegResizerConfig').isGKBlacklisted;};i.getSingleton=function(j){'use strict';if(!h)h=new i(j||i.DEFAULT_POOL_SIZE).setAllowCrossPageTransition(true);return h;};i.prepareResource=function(j){'use strict';c('WebWorker').prepareResource(c('JpegResizeWorkerResource'),j);};function i(j){'use strict';j=j||i.DEFAULT_POOL_SIZE;c('WebWorker').prepareResource(c('JpegResizeWorkerResource'));this.$JpegResizer1=new (c('WebWorkerPool'))(c('JpegResizeWorkerResource'),j).setErrorHandler(this.$JpegResizer2.bind(this)).setMessageHandler(this.$JpegResizer3.bind(this));this.$JpegResizer4={};this.$JpegResizer5=i.DEFAULT_RESIZE_HEIGHT;this.$JpegResizer6=i.DEFAULT_RESIZE_WIDTH;}i.prototype.setHighQuality=function(j){'use strict';if(j){this.$JpegResizer5=i.DEFAULT_RESIZE_HEIGHT;this.$JpegResizer6=i.DEFAULT_RESIZE_WIDTH;}else{this.$JpegResizer5=i.LOW_QUALITY_RESIZE_HEIGHT;this.$JpegResizer6=i.LOW_QUALITY_RESIZE_WIDTH;}return this;};i.prototype.setAllowCrossPageTransition=function(j){'use strict';this.$JpegResizer1.setAllowCrossPageTransition(j);return this;};i.prototype.resizeBlob=function(j,k,l){'use strict';return this.$JpegResizer7(j,this.$JpegResizer6,this.$JpegResizer5,k,l);};i.prototype.resize360Blob=function(j,k,l){'use strict';return this.$JpegResizer7(j,this.$JpegResizer6*3,this.$JpegResizer5*3,k,l);};i.prototype.$JpegResizer7=function(j,k,l,m,n){'use strict';var o=this.$JpegResizer1.getWorker();if(o.isCurrentState('terminated')){var p=new Error('Worker terminated');p.code=c('PUWErrorCodes').WORKER_TERMINATED;m(p);return this;}var q=o.postMessage({blob:j,height:l,width:k}).getIndex();this.$JpegResizer8(q).unshift({done:m,progress:n});return this;};i.prototype.$JpegResizer8=function(j){'use strict';if(!this.$JpegResizer4.hasOwnProperty(j))this.$JpegResizer4[j]=[];return this.$JpegResizer4[j];};i.prototype.$JpegResizer2=function(j,k){'use strict';j.terminate();var l=this.$JpegResizer8(j.getIndex());this.$JpegResizer9(k);l.forEach(function(m){return m.done(k);});l.length=0;};i.prototype.$JpegResizer3=function(j,k){'use strict';if(k.error)this.$JpegResizer9(k.error);if(k.done){this.$JpegResizer8(j.getIndex()).pop().done(k.error,k.blob,k.skipped);}else{var l=this.$JpegResizer8(j.getIndex()),m=l[l.length-1].progress;if(m)m({written:k.written,total:k.total});}};i.prototype.$JpegResizer9=function(j){'use strict';var k=j.message;if(k.indexOf('Not a JPEG file')!==-1){j.code=c('PUWErrorCodes').BAD_JPEG;}else if(k.indexOf('abort()')!==-1){j.code=c('PUWErrorCodes').WORKER_ABORT;}else j.code=c('PUWErrorCodes').UNKNOWN_RESIZE_ERROR;};i.DEFAULT_POOL_SIZE=3;i.DEFAULT_RESIZE_HEIGHT=2048;i.DEFAULT_RESIZE_WIDTH=2048;i.LOW_QUALITY_RESIZE_HEIGHT=960;i.LOW_QUALITY_RESIZE_WIDTH=960;f.exports=i;},null);
__d('ErrorDialog',['Dialog','emptyFunction'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={showAsyncError:function(i){try{return h.show(i.getErrorSummary(),i.getErrorDescription());}catch(j){alert(i);}},show:function(i,j,k,l){return new (c('Dialog'))().setTitle(i).setBody(j).setButtons([c('Dialog').OK]).setStackable(true).setModal(true).setHandler(k||c('emptyFunction')).setButtonsMessage(l||'').show();}};f.exports=h;},null);
__d('PagesComposerActionsTypes',['keyMirror'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('keyMirror')({BACKDATE:null,SET_DRAFT:null,SCHEDULE:null,SET_ADS_POST:null,SET_BOOSTED_POST:null,SHOW_OFFER_UPSELL:null});f.exports=h;},null);
__d('PagesComposerUnpublishedPostsStore',['ReactComposerStoreBase','PagesComposerActionsTypes'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j={isDraft:false,scheduledPublishTime:null,backdateConfig:null,isAdsPost:false,stopFeedDistributionDate:null,showOfferUpsell:false,offerConfig:null};h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return Object.assign({},j);},function(m){switch(m.type){case c('PagesComposerActionsTypes').BACKDATE:l&&l.$PagesComposerUnpublishedPostsStore1(m);break;case c('PagesComposerActionsTypes').SET_DRAFT:l&&l.$PagesComposerUnpublishedPostsStore2(m);break;case c('PagesComposerActionsTypes').SCHEDULE:l&&l.$PagesComposerUnpublishedPostsStore3(m);break;case c('PagesComposerActionsTypes').SET_ADS_POST:l&&l.$PagesComposerUnpublishedPostsStore4(m);break;case c('PagesComposerActionsTypes').SHOW_OFFER_UPSELL:l&&l.$PagesComposerUnpublishedPostsStore5(m);}});l=this;}k.prototype.getBackdateConfig=function(l){'use strict';return this.getComposerData(l).backdateConfig;};k.prototype.getIsDraft=function(l){'use strict';return this.getComposerData(l).isDraft;};k.prototype.getScheduledPublishTime=function(l){'use strict';return this.getComposerData(l).scheduledPublishTime;};k.prototype.getStopFeedDistributionTime=function(l){'use strict';return this.getComposerData(l).stopFeedDistributionDate;};k.prototype.getIsAdsPost=function(l){'use strict';return this.getComposerData(l).isAdsPost;};k.prototype.showOfferUpsell=function(l){'use strict';return this.getComposerData(l).showOfferUpsell;};k.prototype.getOfferConfig=function(l){'use strict';return this.getComposerData(l).offerConfig;};k.prototype.$PagesComposerUnpublishedPostsStore1=function(l){'use strict';var m=this.getComposerData(l.composerID);m.backdateConfig={year:l.year,month:l.month,day:l.day,hideFromNewsFeed:l.hideFromNewsFeed};};k.prototype.$PagesComposerUnpublishedPostsStore3=function(l){'use strict';var m=this.getComposerData(l.composerID);m.scheduledPublishTime=l.scheduleDate;m.stopFeedDistributionDate=l.stopFeedDistributionDate;};k.prototype.$PagesComposerUnpublishedPostsStore2=function(l){'use strict';var m=this.getComposerData(l.composerID);m.isDraft=true;};k.prototype.$PagesComposerUnpublishedPostsStore4=function(l){'use strict';var m=this.getComposerData(l.composerID);m.isAdsPost=true;};k.prototype.$PagesComposerUnpublishedPostsStore5=function(l){'use strict';var m=this.validateAction(l,['composerID','config']),n=m[0],o=m[1],p=this.getComposerData(n);p.offerConfig=o;p.showOfferUpsell=true;this.emitChange(n);};f.exports=new k();},null);
__d("XAfterPartyWWWController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/afterparty\/www\/",{});},null);
__d("XUnpublishedPostSuccessController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/unpublished_posts\/post_success\/",{type:{type:"String",required:true}});},null);
__d('PagesComposer',['csx','cx','ActorURI','Arbiter','AsyncRequest','Bootloader','ComposerXMarauderLogger','ComposerXStore','DOM','PagesComposerUnpublishedPostsStore','Parent','ReloadPage','Run','XUnpublishedPostSuccessController','XAfterPartyWWWController','$','getObjectValues','goURI'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;function l(){c('ComposerXMarauderLogger').logCompleted(j.id);}function m(o){if(o.hidePost){var p=c('ComposerXStore').getAllForComposer(j.id);if(!c('getObjectValues')(p).length){var q=null;if(c('PagesComposerUnpublishedPostsStore').getIsDraft(j.id))q='draft';if(c('PagesComposerUnpublishedPostsStore').getScheduledPublishTime(j.id))q='scheduled';if(q){var r=c('XUnpublishedPostSuccessController').getURIBuilder().setString('type',q).getURI();r=c('ActorURI').create(r,k);new (c('AsyncRequest'))().setURI(r).send();}}l();return;}if(o.redirect){var p=c('ComposerXStore').getAllForComposer(j.id);c('getObjectValues')(p).forEach(function(u){if(u.reset)u.reset(u);});c('goURI')(o.redirect);l();return;}if(!o.streamStory){c('ReloadPage').now();return;}if(o.backdatedTime){c('Bootloader').loadModules(["PagesStoryPublisher"],function(u){u.publish(o);},'PagesComposer');l();return;}var s=n.renderStory(j,o.streamStory);c('Arbiter').inform('TimelineComposer/on_after_publish',s,c('Arbiter').BEHAVIOR_PERSISTENT);var t=c('XAfterPartyWWWController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(t).send();l();}var n={init:function(o,p){j=c('$')(o);k=p;var q=c('Arbiter').subscribe('composer/publish',function(event,r){if(r.composer_id===j.id)m(r);});c('Run').onLeave(q.unsubscribe.bind(q));},renderStory:function(o,p){var q=c('Parent').bySelector(o,"._2gqw");if(!q)return;var r=c('DOM').scry(q,"._5sem")[0],s=c('DOM').prependContent(r,p)[0];c('Bootloader').loadModules(["Animation"],function(t){new t(s).from('backgroundColor','#fff8dd').to('backgroundColor','#fff').duration(2000).ease(t.ease.both).go();},'PagesComposer');return s;},replaceByID:function(o,p){c('DOM').replace(c('$')(o),p);}};f.exports=b.PagesComposer||n;},null);
__d('CanvasToBlobImpl',['BlobFactory'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=atob(i.substr(i.indexOf(',')+1)),l=new Uint8Array(k.length);for(var m=0;m<k.length;m++)l[m]=k.charCodeAt(m);return c('BlobFactory').getBlob([l],{type:j});}f.exports={getBlob:h};},null);
__d('dataURLToBlob',['Promise','BlobFactory','CanvasToBlobResource','WebWorker','CanvasToBlobImpl'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('CanvasToBlobImpl').getBlob,i=b.URL||b.webkitURL||{};function j(k,l){if(!i.createObjectURL||!c('BlobFactory').isSupported)return c('Promise').reject("Browser doesn't support this feature");if(c('WebWorker').isSupported()){return new (c('Promise'))(function(m,n){var o=new (c('WebWorker'))(c('CanvasToBlobResource')).setMessageHandler(function(p){m(p);o.terminate();}).setErrorHandler(function(event){n(event.message);o.terminate();}).execute().postMessage({dataURL:k,fileType:l});});}else return c('Promise').resolve(h(k,l));}f.exports=j;},null);
__d('canvasToBlob',['Promise','dataURLToBlob'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){return new (c('Promise'))(function(l,m){if(i.toBlob){i.toBlob(l,j,k);}else{var n=i.toDataURL(j,k);c('dataURLToBlob')(n,j).then(function(o){l(o);},m).done();}});}f.exports=h;},null);
__d('VideoThumbnail',['invariant'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){'use strict';this.$VideoThumbnail1=j;}i.prototype.getURL=function(){'use strict';return this.$VideoThumbnail1;};i.prototype.getData=function(){'use strict';h(0);};f.exports=i;},null);
__d('CanvasVideoThumbnail',['Promise','DOM','EventListener','VideoThumbnail','canvasToBlob'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('VideoThumbnail'));i=h&&h.prototype;function j(k,l,m){'use strict';i.constructor.call(this,null);this.$CanvasVideoThumbnail1=k;this.$CanvasVideoThumbnail2=l;this.$CanvasVideoThumbnail3=m;}j.prototype.getTime=function(){'use strict';return this.$CanvasVideoThumbnail3?this.$CanvasVideoThumbnail3:0;};j.prototype.getURL=function(){'use strict';if(!this.$CanvasVideoThumbnail4)this.$CanvasVideoThumbnail4=this.$CanvasVideoThumbnail1.toDataURL('image/jpeg');return this.$CanvasVideoThumbnail4;};j.prototype.getData=function(){'use strict';var k=c('DOM').create('canvas'),l=k.getContext('2d'),m=this.$CanvasVideoThumbnail2;return new (c('Promise'))(function(n,o){var p=c('EventListener').listen(m,'seeked',function(){p.remove();k.width=m.videoWidth;k.height=m.videoHeight;l.drawImage(m,0,0,k.width,k.height);c('canvasToBlob')(k,'image/jpeg').then(n,o);});m.currentTime=this.$CanvasVideoThumbnail3;}.bind(this));};f.exports=j;},null);
__d('generateVideoThumbnails',['Promise','CanvasVideoThumbnail','EventListener','VideoFrameBuffer','VideoThumbnail'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k,l){return new (c('Promise'))(function(m,n){var o=document.createElement('canvas'),p=[],q=0,r=i.duration/l,s=new (c('VideoThumbnail'))(''),t=new (c('VideoFrameBuffer'))(o,i,'contain'),u;o.width=j;o.height=k;var v=function(){t.updateFrameBuffer();var x=new (c('CanvasVideoThumbnail'))(o,i,(q-1)*r);p.push(x);if(x.getURL().length>s.getURL().length)s=x;w();},w=function(){if(q===0)u=c('EventListener').listen(i,'seeked',v);if(q<l){i.currentTime=q*r;q++;}else{if(u)u.remove();m({thumbnails:p,selectedThumbnail:s});}};if(i.videoWidth===0||i.videoHeight===0){n();return;}w();});}f.exports=h;},null);
__d("XVideoEditDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/edit\/dialog\/",{video_id:{type:"Int"},source:{type:"Enum",enumType:1},story_dom_id:{type:"String"},timeline_identifier:{type:"String"},post_id:{type:"String"},video_asset_id:{type:"Int"},__asyncDialog:{type:"Int"}});},null);