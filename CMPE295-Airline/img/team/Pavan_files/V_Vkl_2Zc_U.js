if (self.CavalryLogger) { CavalryLogger.start_js(["gNF8E"]); }

__d('FBRTCCallUIWrapper',['regeneratorRuntime','Bootloader','FBRTCCallActions','FBRTCConfig','FBRTCMessageListener','UserAgent'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=null,i={openGroupCallUI:function j(k,l,m,n){return c('regeneratorRuntime').async(function o(p){while(1)switch(p.prev=p.next){case 0:h=this._openWindow('Group Call');c('Bootloader').loadModules(["FBRTCCallUI"],function(q){q.openGroupCallUI(k,l,m,n,h);},'FBRTCCallUIWrapper');case 2:case 'end':return p.stop();}},null,this);},openGroupCallURI:function j(k,l){return c('regeneratorRuntime').async(function m(n){while(1)switch(n.prev=n.next){case 0:h=this._openWindow('Group Call');c('Bootloader').loadModules(["FBRTCCallUI"],function(o){o.openGroupCallURI(k,l,h);},'FBRTCCallUIWrapper');case 2:case 'end':return n.stop();}},null,this);},openAsCaller:function(j,k,l,m){if(!h&&window.rtcCallChildWindow){h=window.rtcCallChildWindow;window.rtcCallChildWindow=null;}if(this._shouldFocusCallWindow(j)){h.focus();return;}if(this._shouldCloseCallWindow())h.close();if(c('FBRTCConfig').useCurrentWindow()){c('FBRTCMessageListener').removeMessageHandler();c('FBRTCCallActions').startCall(j,k,true,m);c('Bootloader').loadModules(["FBRTCCallUI"],function(n){n.openAsCaller(j,k,l,m);},'FBRTCCallUIWrapper');return;}h=this._openWindow('Video Call');c('Bootloader').loadModules(["FBRTCCallUI"],function(n){n.openAsCaller(j,k,l,m,h);},'FBRTCCallUIWrapper');},openAsCallee:function(j,k,l,m,n){if(c('FBRTCConfig').useCurrentWindow()){c('FBRTCMessageListener').removeMessageHandler();c('FBRTCCallActions').startCall(j,k,false,n);c('Bootloader').loadModules(["FBRTCCallUI"],function(o){o.openAsCallee(j,k,l,m,n,null);},'FBRTCCallUIWrapper');return;}h=this._openWindow('Video Call');c('Bootloader').loadModules(["FBRTCCallUI"],function(o){o.openAsCallee(j,k,l,m,n,h);},'FBRTCCallUIWrapper');},_shouldFocusCallWindow:function(j){return h&&!h.closed&&h.rtcCallInProgessWith===j;},_shouldCloseCallWindow:function(){return h&&!h.closed&&!h.rtcCallInProgessWith;},_openWindow:function(j){var k=this._windowPosition(),l=['menubar=no','location=no','scrollbars=no','status=no','personalbar=no',k.height,k.width,k.top,k.left].join(',');if(this._isSparkBrowser())l='';return window.open('',j,l);},_windowPosition:function(){var j=960,k=540,l,m,n,o;if(screen&&screen.width>1280){j=1280;k=720;}if(window.innerWidth!==undefined){m=window.innerWidth;l=window.innerHeight;}else{m=screen.width;l=screen.height;}if(window.screenLeft!==undefined){n=window.screenLeft;o=window.screenTop;}else{n=window.screenX;o=window.screenY;}var p=Math.floor(m/2-j/2+n),q=Math.floor(l/2-k/2+o);return {height:'height='+k.toString(),width:'width='+j.toString(),top:'top='+q.toString(),left:'left='+p.toString()};},_isSparkBrowser:function(){return c('UserAgent').isBrowser('Chrome < 34')&&c('UserAgent').isBrowser('Chrome > 33');}};f.exports=i;},null);