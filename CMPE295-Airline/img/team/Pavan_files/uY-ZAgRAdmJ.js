if (self.CavalryLogger) { CavalryLogger.start_js(["Z9w+A"]); }

__d("BOFCancellationReason",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CUSTOMER_REQUESTED:1,OUT_OF_STOCK:2,INVALID_ADDRESS:3,SUSPICIOUS_ORDER:4,INCORRECT_PRODUCT_DESCRIPTION:5,CANCEL_REASON_OTHER:6,NO_LONGER_WANT:7,ACCIDENTAL_PURCHASE:8,ORDERED_WRONG_ITEM:9,ORDERED_WRONG_QTY:10,NEED_TO_CHANGE_OR_UPDATE_SHIPPING_INFO:11,NEED_TO_CHANGE_OR_UPDATE_BILLING_INFO:12,FOUND_A_CHEAPER_PRICE:13,CUSTOMER_CANCEL_REASON_OTHER:14,INTERNAL_REASON_OTHER:101,CANCEL_COMPROMISED:102,CANCEL_SFI_FAKE:103,CANCEL_SFI_REAL:104,ASYNC_PAYMENT_FAILED:105,ASYNC_PAYMENT_FAILED_UNKNOWN:106};},null);
__d("BOFCommunicationCode",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMMUNICATION_CODE_DELIVERY_ISSUE:1,COMMUNICATION_CODE_ORDER_ISSUE:2,COMMUNICATION_CODE_CHANGE_ORDER:3,COMMUNICATION_CODE_RETURN_REFUND:4,COMMUNICATION_CODE_EXCHANGE:5,COMMUNICATION_CODE_CANCEL_ORDER:6,COMMUNICATION_CODE_OTHER:0};},null);
__d("BOFOrderState",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BOF_ORDER_STATE_RISK_QUEUED:82,BOF_ORDER_STATE_NOT_FULFILLED:78,BOF_ORDER_STATE_FULFILLED:70,BOF_ORDER_STATE_CANCELED:67,BOF_ORDER_STATE_CUSTOMER_CANCELED:85,BOF_ORDER_STATE_RISK_QUEUED_PROCESSING:81,BOF_ORDER_STATE_NOT_FULFILLED_PROCESSING:87,BOF_ORDER_STATE_FULFILLED_PROCESSING:68,BOF_ORDER_STATE_CANCELED_PROCESSING:88,BOF_ORDER_STATE_CUSTOMER_CANCELED_PROCESSING:69,BOF_ORDER_STATE_AUTH_PENDING_PROCESSING:65,BOF_ORDER_STATE_AUTH_PENDING:80};},null);
__d("CommerceOrderStates",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NOT_FULFILLED:78,FULFILLED:70,CANCELED:67,COMPLETED:-1,UNKNOWN:0};},null);
__d("TimelineInfoReviewParam",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTION:"action",ENTITY_ID:"ent",EXISTING_ERROR:"error",ITEM_TYPE:"type",ITEM_TOKEN:"i_token",MULTI_CHOICE_OPTION:"option",QUERY:"query",REPLACE_ID:"replace_id",QUESTION_SESSION:"session",QUESTION_TOKEN:"token",CURSOR:"cursor",DATE:"date",DAY:"day",DISPLAY_NAME:"is_display_name",END_DAY:"end_day",END_MONTH:"end_month",END_YEAR:"end_year",ENTITY_IDS:"ents",ENTITY_IDS_TYPEAHEAD:"ents_ta",GENERIC_TEXT:"generic_text",HUB_ID:"hub_id",LIKED:"liked",LOCATION_ID:"location_id",MLE_TYPES:"valid_mle_types",TITLE:"title",MONTH:"month",NO_VALID_ANSWER_ID:"no_answer",PREVIOUS_PROGRESS:"prev_prog",START_DAY:"start_day",START_MONTH:"start_month",START_YEAR:"start_year",TEXT:"text",TEXT_TYPE:"text_type",YEAR:"year",LOCATION:"location",RENDER_TIME:"render_t",REQUEST_ID:"request",RETHROW_ERRORS:"rethrow_errors",OTHER_ID:"other_id",FIELD_TYPE:"field_type",BIRTHDAY:"birthday",CITY_ID:"city_id",COLLEGE_ID:"college_id",COLLEGE_TEXT:"college_text",CONTAINER_ID:"container_id",COUNTRY_CODE:"country",EMAIL_ADDRESS:"email",EMAIL_FBID:"email_fbid",EMAIL_FBIDS:"email_fbids",ENTITY_ID_TYPEAHEAD:"ent_ta",FAMILY_ANNIVERSARIES:"family_anniversaries",FAMILY_ANNIVERSARIES_IN_MS:"family_anniversaries_in_ms",FAMILY_ANNIVERSARY_DAYS:"family_anniversary_days",FAMILY_ANNIVERSARY_MONTHS:"family_anniversary_months",FAMILY_ANNIVERSARY_YEARS:"family_anniversary_years",FAMILY_BIRTHDAYS:"family_birthdays",FAMILY_BIRTHDAY_DAYS:"family_birthday_days",FAMILY_BIRTHDAY_MONTHS:"family_birthday_months",FAMILY_BIRTHDAY_YEARS:"family_birthday_years",FAMILY_BIRTHDAYS_IN_MS:"family_birthdays_in_ms",FAMILY_IDS:"family_ids",FAMILY_RELATIONS:"family_relations",FAMILY_TEXT_NAMES:"family_text_names",GRAD_SCHOOL_ID:"grad_id",GRAD_SCHOOL_TEXT:"grad_text",HIGH_SCHOOL_ID:"hs_id",HIGH_SCHOOL_TEXT:"hs_text",NAME_PRONUNCIATION_FIRSTNAME_RADIO:"first_radio",NAME_PRONUNCIATION_LASTNAME_RADIO:"last_radio",NAME_PRONUNCIATION_FIRSTNAME_CUSTOM:"first_input",NAME_PRONUNCIATION_LASTNAME_CUSTOM:"last_input",NEIGHBORHOOD:"neighborhood",ONLY_SHARE_WITH:"only_share",PHONE_FBIDS:"phone_fbids",PHONE_FBID:"phone_fbid",PHONE_NUMBER:"phone",PHONE_TYPE:"phone_type",POSTAL_CODE:"postal_code",PRIVACY_X:"priv_x",STREET_ADDRESS:"address",USE_EXISTING:"existing",SAVE:"save",SKIP:"skip"};},null);
__d("XCommerceOrderParam",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={EMAIL:"email",JSON_RESPONSE:"jr",MSG_TO_SELLER:"msg_to_seller",MSG_TO_BUYER:"msg_to_buyer",ORDER:"order",ORDER_ID:"order_id",REASON:"reason",REFUND_REASON_CODE:"refund_reason_code",CANCEL_REASON_CODE:"cancel_reason_code",OVERALL_SCORE:"overall_score",CURRENCY:"currency",AMOUNT:"amount"};},null);
__d('XUICardFullBleedSection.react',['cx','React','XUIBlock','XUICardSection.react','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'XUICardFullBleedSection',propTypes:c('XUIBlock').propTypes,getDefaultProps:c('XUIBlock').getDefaultProps,render:function(){return (c('React').createElement(c('XUICardSection.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_57u_")}),this.props.children));}});f.exports=i;},null);
__d('AdsCard.react',['cx','fbt','LeftRight.react','React','XUICard.react','XUICardFullBleedSection.react','XUICardHeader.react','XUICardHeaderTitle.react','XUICardSection.react','XUIError.react','XUISpinner.react','emptyFunction','joinClasses'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=i._("Something went wrong, please try reloading the page."),l=c('React').createClass({displayName:'AdsCardHeader',propTypes:{disabled:j.bool},getDefaultProps:function(){return {type:'primary'};},render:function(){var q=!!this.props.onTabClick;return (c('React').createElement(c('XUICardHeader.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,(q?"_12jt":'')+(this.props.disabled?' '+"_12jx":'')),onTabClick:q&&!this.props.disabled?this.props.onTabClick:c('emptyFunction').thatReturnsFalse}),this.props.children));}}),m=c('React').createClass({displayName:'AdsCardLeftRightHeader',render:function(){var q=c('React').Children.map(this.props.children,function(r){return r.type===c('XUICardHeaderTitle.react')?c('React').cloneElement(r,{itemComponent:'span'}):r;});return (c('React').createElement(c('LeftRight.react'),{className:"_5dw9 _5dwa"},q));}}),n=c('React').createClass({displayName:'AdsCardSection',propTypes:{isLoading:j.bool},render:function(){return (c('React').createElement(c('XUICardSection.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_12jy")}),c('React').createElement('div',{className:"_3-8j"},this.props.isLoading?this._renderLoading():this.props.children)));},_renderLoading:function(){return (c('React').createElement('div',{className:"_12jz"},c('React').createElement('div',{className:"_12j-"},c('React').createElement(c('XUISpinner.react'),{size:'large'})),c('React').createElement('div',{className:"_12j_"},this.props.children)));}}),o=c('React').createClass({displayName:'AdsCardFullBleedSection',propTypes:{},render:function(){return (c('React').createElement(c('XUICardFullBleedSection.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_12jy _12k1")}),this.props.children));}}),p=c('React').createClass({displayName:'AdsCard',statics:{FullBleedSection:o,Header:l,HeaderTitle:c('XUICardHeaderTitle.react'),LeftRightHeader:m,Section:n},propTypes:babelHelpers['extends']({},c('XUIError.react').propTypes,{onError:j.func}),getInitialState:function(){return {error:false,errorMessage:null};},getDefaultProps:function(){return {xuiErrorPosition:'above'};},render:function(){var q=void 0;if(this.state.error){q=c('React').createElement(c('XUICard.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_12k2")}),c('React').createElement(l,null,c('React').createElement(c('XUICardHeaderTitle.react'),null,i._("Error: Component failed to load"))),c('React').createElement(n,null,this.state.errorMessage));}else q=c('React').createElement(c('XUICard.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_12k2")}),this.props.children);return (c('React').createElement(c('XUIError.react'),{xuiError:this.props.xuiError||this.state.errorMessage,xuiErrorAlignh:this.props.xuiErrorAlignh,xuiErrorPosition:this.props.xuiErrorPosition},q));},unstable_handleError:function(q){if(this.props.onError){var r=this.props.onError(q)||k;this.setState({error:true,errorMessage:r});}}});f.exports=p;},null);
__d('CommerceMailingAddress.react',['React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'CommerceMailingAddress',propTypes:{name:h.string,careOf:h.string,street1:h.string.isRequired,street2:h.string,street3:h.string,city:h.string.isRequired,region:h.string.isRequired,postalCode:h.string.isRequired,country:h.string,phoneNumber:h.string},render:function(){return (c('React').createElement('div',null,c('React').createElement('div',null,this.props.name),c('React').createElement('div',null,this.props.careOf),c('React').createElement('div',null,this.props.street1),c('React').createElement('div',null,this.props.street2),c('React').createElement('div',null,this.props.street3),c('React').createElement('div',null,this.props.city+', '+this.props.region+' ',this.props.postalCode),c('React').createElement('div',null,this.props.country),c('React').createElement('div',null,this.props.phoneNumber)));}});f.exports=i;},null);
__d('FBNumberInput.react',['Input','React','intlNumUtils','joinClasses'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'FBNumberInput',propTypes:{nonnegative:h.bool,onValueChange:h.func.isRequired,value:h.number,defaultValue:h.number,minValue:h.number,maxValue:h.number,placeholder:h.string,formatNumber:h.bool,onlyIntegers:h.bool},render:function(){var j=this.props,k=j.value,l=j.className,m=babelHelpers.objectWithoutProperties(j,['value','className']);if(k)k=this._formatValue(k);return (c('React').createElement('input',babelHelpers['extends']({},m,{className:c('joinClasses')(l,'inputtext'),type:'text',defaultValue:k,onBlur:this._onBlur})));},_formatValue:function(j){return this.props.formatNumber?c('intlNumUtils').formatNumberWithThousandDelimiters(j,0):''+j;},_parseValue:function(j){var k=c('intlNumUtils').parseNumber(j);if(this.props.onlyIntegers)k=Math.trunc(k);return k;},_onBlur:function(event){var j=this._parseValue(c('Input').getValue(event.target)),k;if(j!==null){j=this.props.nonnegative?Math.abs(j):j;if(this.props.minValue!=null&&j<this.props.minValue){j=this.props.minValue;}else if(this.props.maxValue!=null&&j>this.props.maxValue)j=this.props.maxValue;k=this._formatValue(j);}else if(this.props.defaultValue!=null){j=this.props.defaultValue;k=this._formatValue(j);}else k='';c('Input').setValue(event.target,k);this.props.onValueChange(j);}});f.exports=i;},null);
__d('BUIFormTextInput.react',['invariant','BUIForm.react','BUITextInput.react','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'BUIFormTextInput',propTypes:babelHelpers['extends']({},c('BUITextInput.react').propTypes,{density:c('BUIForm.react').propTypes.density}),render:function(){var j=this.props,k=j.density,l=babelHelpers.objectWithoutProperties(j,['density']),m=void 0;switch(k){case 'breathy':case 'svelt':m='xtall';break;case 'snug':m='tall';break;case 'taut':m='short';break;default:void 0;}return (c('React').createElement(c('BUITextInput.react'),babelHelpers['extends']({},l,{height:m})));}});f.exports=i;},null);
__d('ProgressiveDatepickerMixin',['DateConsts','TimelineInfoReviewParam','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i={propTypes:{descendingYears:h.bool,initialDay:function(j,k,l){var m=j.initialYear,n=j.initialMonth,o=j.initialDay;if(!o)return;var p=n&&m&&o<=c('DateConsts').getDaysInMonth(m,n);if(!p)return new Error('A valid initialYear and initialMonth must be provided if '+'initialDay is set.');return h.number.call(this,j,k,l);},initialMonth:function(j,k,l){if(j.initialMonth&&!j.initialYear)return new Error('A valid initialYear must be provided if initialMonth is set.');return h.number.call(this,j,k,l);},initialYear:h.number,inputPrefix:h.string,maxTime:h.number.isRequired,minTime:h.number.isRequired,minTimeUnit:h.oneOf(['day','month','year']),onDateChange:h.func},getDefaultProps:function(){return {descendingYears:false,initialYear:0,initialMonth:0,initialDay:0,inputPrefix:'',minTimeUnit:'year'};},getInitialState:function(){return {day:this.props.initialDay,month:this.props.initialMonth,year:this.props.initialYear};},clearDate:function(){this.setState(this.getInitialState());},_getDayName:function(){return this.props.inputPrefix===''?c('TimelineInfoReviewParam').DAY:this.props.inputPrefix+'_'+c('TimelineInfoReviewParam').DAY;},_getMonthName:function(){return this.props.inputPrefix===''?c('TimelineInfoReviewParam').MONTH:this.props.inputPrefix+'_'+c('TimelineInfoReviewParam').MONTH;},_getYearName:function(){return this.props.inputPrefix===''?c('TimelineInfoReviewParam').YEAR:this.props.inputPrefix+'_'+c('TimelineInfoReviewParam').YEAR;},_getMinDate:function(){return new Date(this.props.minTime*c('DateConsts').MS_PER_SEC);},_getMinYear:function(){return this._getMinDate().getFullYear();},_getMinMonth:function(){return this._getMinDate().getMonth()+1;},_getMinDay:function(){return this._getMinDate().getDate();},_isMinYear:function(){return this.state.year===this._getMinYear();},_isMinYearAndMonth:function(){return this._isMinYear()&&this.state.month===this._getMinMonth();},_getMaxDate:function(){return new Date(this.props.maxTime*c('DateConsts').MS_PER_SEC);},_getMaxYear:function(){return this._getMaxDate().getFullYear();},_getMaxMonth:function(){return this._getMaxDate().getMonth()+1;},_getMaxDay:function(){return this._getMaxDate().getDate();},_isMaxYear:function(){return this.state.year===this._getMaxYear();},_isMaxYearAndMonth:function(){return this._isMaxYear()&&this.state.month===this._getMaxMonth();},_getCurrentDate:function(){return new Date(this.state.year,!this.state.month?0:this.state.month-1,this.state.year&&!this.state.day?1:this.state.day).getTime();},getCurrentDateInSeconds:function(){return this._getCurrentDate()/c('DateConsts').MS_PER_SEC;},getMaxPossibleDateInSeconds:function(){var j={year:this.state.year,month:this.state.month,day:this.state.day};if(!j.day)if(j.month){j.month+=1;}else if(j.year){j.year+=1;j.day=1;}var k=new Date(j.year,!j.month?0:j.month-1,j.day);return k.getTime()/c('DateConsts').MS_PER_SEC;},_onYearChange:function(event){var j=event.target?event.target.value:event.value;this._onDateChange({year:parseInt(j,10),month:this.state.month,day:this.state.day});},_onMonthChange:function(event){var j=event.target?event.target.value:event.value;this._onDateChange({year:this.state.year,month:parseInt(j,10),day:this.state.day});},_onDayChange:function(event){var j=event.target?event.target.value:event.value;this._onDateChange({year:this.state.year,month:this.state.month,day:parseInt(j,10)});},_onDateChange:function(j){var k=this._getValidDate(j);this.setState(k,function(){this.props.onDateChange&&this.props.onDateChange(k);}.bind(this));},_getValidDate:function(j,k,l){if(typeof k==='undefined')k=new Date(this.props.minTime*c('DateConsts').MS_PER_SEC);if(typeof l==='undefined')l=new Date(this.props.maxTime*c('DateConsts').MS_PER_SEC);var m=j.year,n=j.month,o=j.day;if(m){if(m<=k.getFullYear()){m=k.getFullYear();if(n&&n<=k.getMonth()+1){n=k.getMonth()+1;if(o&&o<k.getDate())o=k.getDate();}}else if(m>=l.getFullYear()){m=l.getFullYear();if(n&&n>=l.getMonth()+1){n=l.getMonth()+1;if(o&&o>l.getDate())o=l.getDate();}}if(n){if(o&&o>c('DateConsts').getDaysInMonth(m,n))o=c('DateConsts').getDaysInMonth(m,n);}else o=0;}else n=o=0;return {year:m,month:n,day:o};},componentWillReceiveProps:function(j){var k=new Date(j.minTime*c('DateConsts').MS_PER_SEC),l=new Date(j.maxTime*c('DateConsts').MS_PER_SEC);this.setState(this._getValidDate(this.state,k,l));}};f.exports=i;},null);
__d('XUIProgressiveDatepicker.react',['cx','DateConsts','DateStrings','ProgressiveDatepickerMixin','React','InlineBlock.react','XUISelector.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('XUISelector.react').Option,j=c('React').createClass({displayName:'TimelineProgressiveDatepicker',mixins:[c('ProgressiveDatepickerMixin')],render:function(){var k=[];for(var l=this._getMinYear();l<=this._getMaxYear();l++){var m=c('React').createElement(i,{key:l,title:l,value:l},l);this.props.descendingYears?k.unshift(m):k.push(m);}k.unshift(c('React').createElement(i,{key:0,title:c('DateStrings').getYearLabel(),value:0},c('DateStrings').getYearLabel()));var n=null;if(this.state.year||this.props.minTimeUnit!=='year'){var o=[c('React').createElement(i,{key:0,title:c('DateStrings').getMonthLabel(),value:0},c('DateStrings').getMonthLabel())],p=1,q=c('DateConsts').MONTHS_PER_YEAR;if(this._isMinYear())p=this._getMinMonth();if(this._isMaxYear())q=this._getMaxMonth();for(var r=p;r<=q;r++){var s=c('DateStrings').getMonthName(r);o.push(c('React').createElement(i,{key:r,title:s,value:r},s));}n=c('React').createElement(c('XUISelector.react'),{className:"_5vu1",'data-testid':'ProgressiveDatepicker/monthSelector',disabled:!this.state.year,maxheight:this.props.menuMaxHeight,name:this._getMonthName(),onChange:this._onMonthChange,value:this.state.month},o);}var t=null;if(this.state.month||this.props.minTimeUnit==='day'){var u=[c('React').createElement(i,{key:0,title:c('DateStrings').getDayLabel(),value:0},c('DateStrings').getDayLabel())],v=1,w=c('DateConsts').getDaysInMonth(this.state.year,this.state.month);if(this._isMinYearAndMonth())v=this._getMinDay();if(this._isMaxYearAndMonth())w=this._getMaxDay();for(var x=v;x<=w;x++)u.push(c('React').createElement(i,{key:x,title:x,value:x},x));t=c('React').createElement(c('XUISelector.react'),{className:"_5vu1",'data-testid':'ProgressiveDatepicker/daySelector',disabled:!this.state.month,maxheight:this.props.menuMaxHeight,name:this._getDayName(),onChange:this._onDayChange,value:this.state.day},u);}return (c('React').createElement(c('InlineBlock.react'),null,c('React').createElement(c('XUISelector.react'),{'data-testid':'ProgressiveDatepicker/yearSelector',maxheight:this.props.menuMaxHeight,name:this._getYearName(),onChange:this._onYearChange,value:this.state.year},k),n,t));}});f.exports=j;},null);
__d('VideoUploadLeaveConfirmationDialog.react',['fbt','React','XUIDialog.react','XUIDialogTitle.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogButton.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'VideoUploadLeaveConfirmationDialog',propTypes:{onContinue:i.func,onCancel:i.func},render:function(){return (c('React').createElement(c('XUIDialog.react'),{shown:true,layerHideOnBlur:false,width:700,key:'dialog'},c('React').createElement(c('XUIDialogTitle.react'),null,h._("Discard Post?")),c('React').createElement(c('XUIDialogBody.react'),null,h._("If you leave now, this post will be discarded. To save your post, choose one of the options under the Publish button.")),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:h._("Return to Post"),onClick:this.props.onContinue}),c('React').createElement(c('XUIDialogButton.react'),{use:'confirm',action:'cancel',label:h._("Discard"),onClick:this.props.onCancel}))));}});f.exports=j;},null);
__d('VideoPermalinkText.react',['cx','React','URI'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.$VideoPermalinkText1=function(){'use strict';return new (c('URI'))('/video.php').addQueryData('v',this.props.videoID).getQualifiedURI().toString();};k.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:"_9_1"},this.$VideoPermalinkText1()));};function k(){'use strict';i.apply(this,arguments);}f.exports=k;},null);
__d('VideoUploadProcessingDialog.react',['fbt','ActorURI','PublishingToolsSource','React','VideoEditSource','VideoLibraryButton.react','VideoLibrarySource','VideoPermalinkText.react','XUIDialog.react','XUIDialogTitle.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogCloseButton.react','XUIDialogButton.react','XVideoEditController','XVideoEditDialogController'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'VideoUploadProcessingDialog',propTypes:{onClose:i.func,shouldShowNewEditDialog:i.bool,isReferenceVideo:i.bool,shouldShowVideoLibrary:i.bool},getInitialState:function(){return {dialogShown:true};},_onToggle:function(k){this.setState({dialogShown:k});if(!k&&this.props.onClose)this.props.onClose();},_onEditVideoButtonClick:function(){this.setState({dialogShown:false});},componentWillReceiveProps:function(k){if(k.show)this.setState({dialogShown:true});},_getProcessingText:function(){if(this.props.isReferenceVideo){return h._("Your reference file is now processing. We will send you a notification when it's ready and monitored.");}else if(this.props.isSecretVideo){return (c('React').createElement('div',null,h._("Your secret video is now processing. We will notify you when it is it ready to view at the following location:"),c('React').createElement(c('VideoPermalinkText.react'),{videoID:this.props.videoID})));}else return h._("Your video is now processing. We will send you a notification when it's ready to view.");},_getTitle:function(){return this.props.isSecretVideo?h._("Processing Secret Video"):h._("Processing Video");},render:function(){var k,l=h._("Edit Video"),m;if(this.props.isReferenceVideo){m=null;}else if(this.props.shouldShowNewEditDialog&&this.props.pageID){k=c('XVideoEditDialogController').getURIBuilder().setInt('video_id',this.props.videoID).setEnum('source',c('VideoEditSource').PROCESSING_DIALOG).getURI();k=c('ActorURI').create(k,this.props.pageID);m=c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',label:l,href:k,onClick:this._onEditVideoButtonClick,rel:'dialog'});}else{k=c('XVideoEditController').getURIBuilder().setInt('v',this.props.videoID).setEnum('source',c('VideoEditSource').PROCESSING_DIALOG).getURI();m=c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',label:l,href:k,onClick:this._onEditVideoButtonClick,target:'_blank'});}var n=null;if(this.props.shouldShowVideoLibrary)n=c('React').createElement(c('VideoLibraryButton.react'),{pageID:this.props.pageID,size:'medium',source:c('VideoLibrarySource').VIDEO_UPLOAD_CONFIRMATION_DIALOG,refSource:c('PublishingToolsSource').VIDEO_UPLOAD_CONFIRMATION_DIALOG});return (c('React').createElement(c('XUIDialog.react'),{shown:this.state.dialogShown,width:400,onToggle:this._onToggle,key:'dialog'},c('React').createElement(c('XUIDialogTitle.react'),null,this._getTitle()),c('React').createElement(c('XUIDialogBody.react'),null,this._getProcessingText()),c('React').createElement(c('XUIDialogFooter.react'),{leftContent:n},c('React').createElement(c('XUIDialogCloseButton.react'),null),m)));}});f.exports=j;},null);
__d('ComposerXVideoUploadDialog.react',['cx','ix','fbt','Arbiter','DOMContainer.react','Image.react','React','SubscriptionsHandler','VideoUploadProcessingDialog.react','XUICloseButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','VideoUploadLeaveConfirmationDialog.react','OptimisticVideoPostUtils','setImmediate','getViewportDimensions'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=770,m=489,n=550,o=c('React').createClass({displayName:'ComposerXVideoUploadDialog',_subscriptionsHandler:null,propTypes:{composer:k.object.isRequired,composerID:k.string.isRequired,canShowOptimisticPost:k.bool,showProcessingDialog:k.bool,onCancel:k.func,onComplete:k.func,onDone:k.func,compactMode:k.bool,isReferenceVideo:k.bool},getDefaultProps:function(){return {canShowOptimisticPost:false,showProcessingDialog:true,compactMode:false,isReferenceVideo:false};},getInitialState:function(){return {stage:'editing',videoID:null,showLeaveConfirmationDialog:false,showThrobber:false,shouldShowNewEditDialog:false,pageID:null,isSecretVideo:false,shouldShowVideoLibrary:false};},componentDidMount:function(){var p=new (c('SubscriptionsHandler'))();this._subscriptionsHandler=p;p.addSubscriptions(c('Arbiter').subscribe('videoUpload/started',function(q){this.setState({stage:'editing',videoID:null});}.bind(this)),c('Arbiter').subscribe('videoUpload/complete',function(q,r){if(this.props.onComplete)this.props.onComplete(r.videoID);var s=this.props.showProcessingDialog&&(!this.props.canShowOptimisticPost||!c('OptimisticVideoPostUtils').shouldShowOptimisticPost(r));this.setState({stage:'finished',videoID:r.videoID,shouldShowVideoUploadProcessingDialog:s,shouldShowNewEditDialog:!!r.shouldShowNewEditDialog,pageID:r.pageID,isSecretVideo:r.isSecret,shouldShowVideoLibrary:!!r.shouldShowVideoLibrary});}.bind(this)),c('Arbiter').subscribe('videoUpload/showThrobber',function(q,r){if(this.props.composerID===r.composerID)this.setState({showThrobber:true});}.bind(this)),c('Arbiter').subscribe('videoUpload/hideThrobber',function(q,r){if(this.props.composerID===r.composerID)this.setState({showThrobber:false});}.bind(this)));},componentWillUnmount:function(){if(this._subscriptionsHandler)this._subscriptionsHandler.release();},onCancelPostingClick:function(){this.setState({showLeaveConfirmationDialog:false});if(this.props&&this.props.onCancel)this.props.onCancel();},onContinuePostingClick:function(){this.setState({showLeaveConfirmationDialog:false});},onComposerDialogClose:function(){this.setState({showLeaveConfirmationDialog:true});},onDone:function(){if(this.props&&this.props.onDone){var p=this.props.onDone;c('setImmediate')(function(){return p({videoID:this.state.videoID});}.bind(this));}},renderLayers:function(){if(this.state.stage=='finished'){if(!this.state.shouldShowVideoUploadProcessingDialog){this.onDone();return null;}return (c('React').createElement(c('VideoUploadProcessingDialog.react'),{videoID:this.state.videoID,onClose:this.onDone,show:true,shouldShowNewEditDialog:this.state.shouldShowNewEditDialog,pageID:this.state.pageID,isReferenceVideo:this.props.isReferenceVideo,isSecretVideo:this.state.isSecretVideo,shouldShowVideoLibrary:this.state.shouldShowVideoLibrary,key:'dialog'}));}else{var p;if(this.props.isReferenceVideo){p=j._("Add Reference File");}else p=j._("Upload Video");var q=c('getViewportDimensions')().height>n?100:30;return (c('React').createElement(c('XUIDialog.react'),{shown:true,layerHideOnBlur:false,width:this.props.compactMode?m:l,fixedTopPosition:q,key:'dialog'},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},p,c('React').createElement('div',{className:"_51-u"},this.renderThrobber(),c('React').createElement(c('XUICloseButton.react'),{onClick:this.onComposerDialogClose,className:"_51-t"}))),c('React').createElement(c('XUIDialogBody.react'),{useCustomPadding:true},c('React').createElement(c('DOMContainer.react'),null,this.props.composer))));}},renderThrobber:function(){return (c('React').createElement(c('Image.react'),{className:"_2z4p"+(this.state.showThrobber?' '+"_2z4q":''),src:i('/images/loaders/indicator_blue_small.gif')}));},render:function(){var p;if(this.state.showLeaveConfirmationDialog)p=c('React').createElement(c('VideoUploadLeaveConfirmationDialog.react'),{onContinue:this.onContinuePostingClick,onCancel:this.onCancelPostingClick});return (c('React').createElement('div',null,p,this.renderLayers()));}});f.exports=o;},null);
__d("XComposerXVideoUploadDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/video\/dialog\/",{target_id:{type:"FBID",required:true},source_id:{type:"String",required:true},entry_point:{type:"Enum",required:true,enumType:1},is_reference_video:{type:"Bool",defaultValue:false}});},null);
__d('ComposerXVideoUploadDialogController',['ActorURI','Arbiter','AsyncDialog','AsyncRequest','ComposerEntryPointRef','ComposerXVideoUploadDialog.react','DOM','React','ReactDOM','XComposerXVideoUploadDialogController'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};function i(n){return h[n];}function j(n){h[n.getID()]=n;}function k(n){return n in h;}var l=c('ComposerEntryPointRef').TIMELINE;function m(n,o,p,q,r,s,t){'use strict';this.$ComposerXVideoUploadDialogController1=n;this.$ComposerXVideoUploadDialogController2=o;this.$ComposerXVideoUploadDialogController3=p;this.$ComposerXVideoUploadDialogController4=q;this.$ComposerXVideoUploadDialogController5=r;this.$ComposerXVideoUploadDialogController6=s;this.$ComposerXVideoUploadDialogController7=t;this.$ComposerXVideoUploadDialogController8=m.$ComposerXVideoUploadDialogController9(this.$ComposerXVideoUploadDialogController1,this.$ComposerXVideoUploadDialogController3,this.$ComposerXVideoUploadDialogController6);this.$ComposerXVideoUploadDialogController10=false;this.$ComposerXVideoUploadDialogController11=c('DOM').create('span');c('DOM').appendContent(document.body,this.$ComposerXVideoUploadDialogController11);this.$ComposerXVideoUploadDialogController12();}m.prototype.getID=function(){'use strict';return this.$ComposerXVideoUploadDialogController8;};m.prototype.setFileInput=function(n){'use strict';this.$ComposerXVideoUploadDialogController2=n;};m.prototype.$ComposerXVideoUploadDialogController13=function(n){'use strict';this.$ComposerXVideoUploadDialogController14=n;if(this.$ComposerXVideoUploadDialogController15)this.show();};m.prototype.$ComposerXVideoUploadDialogController12=function(){'use strict';var n=c('XComposerXVideoUploadDialogController').getURIBuilder().setFBID('target_id',this.$ComposerXVideoUploadDialogController1).setString('source_id',this.$ComposerXVideoUploadDialogController8).setEnum('entry_point',this.$ComposerXVideoUploadDialogController3).setBool('is_reference_video',this.$ComposerXVideoUploadDialogController7).getURI();n=c('ActorURI').create(n,this.$ComposerXVideoUploadDialogController1);c('AsyncDialog').send(new (c('AsyncRequest'))(n));};m.prototype.$ComposerXVideoUploadDialogController16=function(){'use strict';c('ReactDOM').render(c('React').createElement(c('ComposerXVideoUploadDialog.react'),{canShowOptimisticPost:this.$ComposerXVideoUploadDialogController5,composer:this.$ComposerXVideoUploadDialogController14,composerID:this.$ComposerXVideoUploadDialogController8,isReferenceVideo:this.$ComposerXVideoUploadDialogController7,showProcessingDialog:this.$ComposerXVideoUploadDialogController4,onCancel:this.$ComposerXVideoUploadDialogController17.bind(this),onDone:this.$ComposerXVideoUploadDialogController18.bind(this)}),this.$ComposerXVideoUploadDialogController11);this.$ComposerXVideoUploadDialogController10=true;};m.prototype.show=function(){'use strict';if(this.$ComposerXVideoUploadDialogController14){this.$ComposerXVideoUploadDialogController15=false;c('Arbiter').inform('ComposerXFilesStore/filesAdded/'+this.$ComposerXVideoUploadDialogController8+'/videoupload',{fileInput:this.$ComposerXVideoUploadDialogController2},c('Arbiter').BEHAVIOR_PERSISTENT);this.$ComposerXVideoUploadDialogController16();}else this.$ComposerXVideoUploadDialogController15=true;};m.prototype.$ComposerXVideoUploadDialogController17=function(){'use strict';c('Arbiter').inform('videoUpload/cancel',{composerID:this.$ComposerXVideoUploadDialogController8});this.hide();};m.prototype.$ComposerXVideoUploadDialogController18=function(n){'use strict';this.hide();};m.prototype.hide=function(){'use strict';c('ReactDOM').unmountComponentAtNode(this.$ComposerXVideoUploadDialogController11);this.$ComposerXVideoUploadDialogController10=false;};m.$ComposerXVideoUploadDialogController9=function(n,o,p){'use strict';if(p){return p;}else return o+'_'+n;};m.showDialog=function(n){'use strict';n.composerEntryPointRef=n.composerEntryPointRef||l;var o=m.$ComposerXVideoUploadDialogController9(n.targetID,n.composerEntryPointRef,n.originalComposerID);if(!k(o)){j(new m(n.targetID,n.fileInput,n.composerEntryPointRef,n.showProcessingDialog||false,n.canShowOptimisticPost||false,n.originalComposerID||'',n.isReferenceVideoUpload||false));}else i(o).setFileInput(n.fileInput);i(o).show();};m.setVideoComposer=function(n,o){'use strict';if(h[n])h[n].$ComposerXVideoUploadDialogController13(o);};f.exports=m;},null);
__d("XPaymentReceiptDownloadController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/payment_receipt\/download\/",{id:{type:"Int",required:true}});},null);