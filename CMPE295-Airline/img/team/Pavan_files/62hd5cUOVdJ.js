if (self.CavalryLogger) { CavalryLogger.start_js(["XaORI"]); }

__d('PageWebsiteLogger',['Banzai','Event'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={init:function(i,j,k,l){c('Event').listen(i,'click',function(m){this.log({user_id:j,page_id:k,website_url:l});}.bind(this));},log:function(i){c('Banzai').post('page_website_logger',i);}};f.exports=h;},null);
__d('UFIOrderingModeStore',['invariant','FluxReduceStore','immutable','UFIActionTypes','UFISharedDispatcher'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('FluxReduceStore'));j=i&&i.prototype;k.prototype.getInitialState=function(){return new (c('immutable').Map)();};k.prototype.areEqual=function(l,m){return c('immutable').is(l,m);};k.prototype.getMode=function(l,m){var n=this.getState().get(l),o=null;m.forEach(function(p){if(n&&p.value===n){o=p;}else if(p.selected)o=p;});!o?h(0):void 0;return o;};k.prototype.reduce=function(l,m){switch(m.type){case c('UFIActionTypes').INSTANCE.CHANGE_ORDER_MODE:var n=m.instanceID,o=m.mode;!(n&&o)?h(0):void 0;l=l.set(n,o);break;}return l;};function k(){i.apply(this,arguments);}f.exports=new k(c('UFISharedDispatcher'));},null);
__d('UFIOrderingModeSelector.react',['cx','ix','BanzaiLogger','InlineBlock.react','Link.react','React','Image.react','Random','ReactXUIMenu','PopoverMenu.react','UFIConfig'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('ReactXUIMenu').SelectableMenu,l=c('ReactXUIMenu').SelectableItem,m=c('React').createClass({displayName:'UFIOrderingModeSelector',propTypes:{onOrderChanged:j.func.isRequired,feedback:j.shape({orderingmodes:j.array.isRequired,commentstargetfbid:j.string.isRequired,ownerid:j.string.isRequired}).isRequired,selectedMode:j.object.isRequired},onMenuItemClick:function(n,o){var p=o.item.getValue(),q=this.props.feedback;if(q.orderingmodes&&c('UFIConfig').logChangeOrderingModeUsageSampleRate>c('Random').random())c('BanzaiLogger').log('CommentsOrderingModeSelectorUsageLoggerConfig',{start_order:this.props.selectedMode.value,end_order:p,post_fbid:q.commentstargetfbid,post_owner_fbid:q.ownerid,available_orders:q.orderingmodes.map(function(r){return r.value;})});this.props.onOrderChanged(p);},render:function(){var n=c('React').createElement(k,{className:"_4tju",onItemClick:this.onMenuItemClick},this.props.feedback.orderingmodes.map(function(o){return (c('React').createElement(l,{key:o.value,value:o.value,label:o.name,selected:o.value===this.props.selectedMode.value},c('React').createElement('div',{className:"_3scm"},c('React').createElement('div',{className:"_3scn"},o.name),c('React').createElement('div',{className:"_3sco"},o.description))));}.bind(this)));return (c('React').createElement('div',{className:"_3scp"},c('React').createElement(c('InlineBlock.react'),null,c('React').createElement(c('PopoverMenu.react'),{className:"_3scs",menu:n,alignh:'right'},c('React').createElement(c('Link.react'),null,this.props.selectedMode.name,c('React').createElement(c('Image.react'),{className:"_3sct",src:i('/images/ui/xhp/link/more/down_caret.gif')}))))));}});f.exports=m;},null);
__d('UFIOrderingModeSelectorContainer.react',['React','SubscriptionsHandler','UFIOrderingModeSelector.react','UFIOrderingModeStore'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'UFIOrderingModeSelectorContainer',propTypes:{onOrderChanged:h.func.isRequired,feedback:h.shape({orderingmodes:h.array.isRequired,commentstargetfbid:h.string.isRequired,ownerid:h.string.isRequired}).isRequired,ufiInstanceID:h.string.isRequired},getInitialState:function(){return {selectedMode:c('UFIOrderingModeStore').getMode(this.props.ufiInstanceID,this.props.feedback.orderingmodes),subscriptions:new (c('SubscriptionsHandler'))()};},componentDidMount:function(){this.state.subscriptions.addSubscriptions(c('UFIOrderingModeStore').addListener(function(){this.setState({selectedMode:c('UFIOrderingModeStore').getMode(this.props.ufiInstanceID,this.props.feedback.orderingmodes)});}.bind(this)));},componentWillUnmount:function(){this.state.subscriptions.release();},shouldComponentUpdate:function(j,k){return this.state.selectedMode.value!==k.selectedMode.value;},render:function(){return (c('React').createElement(c('UFIOrderingModeSelector.react'),{onOrderChanged:this.props.onOrderChanged,feedback:this.props.feedback,selectedMode:this.state.selectedMode}));}});f.exports=i;},null);
__d('ExpandingCtaModern',['Animation','Style'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=150,i=215,j=750,k={show:function(l,m,n,o){var p=document.documentElement.clientHeight;c('Style').set(document.body,'margin-bottom',i+'px');var q=setInterval(r,1000);window.onload=function(){if(window.pageYOffset<=j)s(l,'height',i+'px');};o.addEventListener('click',function(){c('Style').set(n,'display','none');c('Style').set(l,'height','70%');c('Style').set(m,'display','block');c('Style').set(l,'background','none');s(l,'height',i+'px');clearInterval(q);});function r(){p=document.documentElement.clientHeight;var t=l.clientHeight;if(window.pageYOffset>j&&t!==p){c('Style').set(m,'display','none');c('Style').set(n,'display','block');s(l,'height',p+'px');s(l,'background','rgba(0,0,0,0.5)');}}function s(t,u,v){new (c('Animation'))(t).to(u,v).duration(h).ease(c('Animation').ease.both).go();}}};f.exports=k;},null);
__d('ContextRowEventLogger',['Event','BanzaiLogger'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={registerContextRowClickAction:function(i,j){c('Event').listen(i,'click',function(){c('BanzaiLogger').log('PageContextRowEventsLoggerConfig',j);});}};f.exports=h;},null);
__d('PagesBanzaiEventListener',['Event','PagesEventObserver','Run'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={registerLogEvent:function(i,j,k){var l=c('Event').listen(i,'click',function(event){c('PagesEventObserver').logData_DEPRECATED(j,k);});c('Run').onLeave(function(){l.remove();});}};f.exports=h;},null);
__d('PagesPostsByOthersUnit',['DOM'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h;function i(j,k){'use strict';this.$PagesPostsByOthersUnit1=j;this.$PagesPostsByOthersUnit2=k;h=this;}i.prototype.getRoot=function(){'use strict';return this.$PagesPostsByOthersUnit1;};i.prototype.insertPost=function(j){'use strict';var k=this.getRoot();c('DOM').prependContent(k,j);if(k.children.length>this.$PagesPostsByOthersUnit2)c('DOM').remove(k.lastChild);if(this.$PagesPostsByOthersUnit3){c('DOM').remove(this.$PagesPostsByOthersUnit3);this.$PagesPostsByOthersUnit3=null;}};i.insertPostIntoCurrentInstance=function(j){'use strict';this.getInstance().insertPost(j);};i.initPlaceholderElement=function(j){'use strict';this.getInstance().$PagesPostsByOthersUnit3=j;};i.getInstance=function(){'use strict';return h;};f.exports=i;},null);
__d('PagesTimelineController',['Arbiter'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={LOAD_SECTION:'PagesTimelineController/loadSection',SECTION_FULLY_LOADED:'PagesTimelineController/sectionFullyLoaded',ACTIVATE_SCRUBBER_ITEM:'PagesTimelineController/activateScrubberItem',FIRST_POSTS_LOADED:'PagesTimelineController/firstPostsLoaded',REMOVE_SECTION:'PagesTimelineController/removeSection',RECENT_SECTION_KEY:'recent',NAV_BAR_LOADED:'PagesTimelineController/navBarLoaded',ADJUST_ADS:'PagesTimelineController/adjustAds',BOTTOM_OFFSET:100,loadSection:function(i){c('Arbiter').inform(this.LOAD_SECTION,{section_key:i},c('Arbiter').BEHAVIOR_STATE);},sectionFullyLoaded:function(i){c('Arbiter').inform(this.SECTION_FULLY_LOADED,{section_index:i},c('Arbiter').BEHAVIOR_PERSISTENT);},activateScrubberItem:function(i){c('Arbiter').inform(this.ACTIVATE_SCRUBBER_ITEM,{section_key:i},c('Arbiter').BEHAVIOR_STATE);},firstPostsLoaded:function(i){c('Arbiter').inform(this.FIRST_POSTS_LOADED,{section_key:i},c('Arbiter').BEHAVIOR_STATE);},removeSection:function(i){c('Arbiter').inform(this.REMOVE_SECTION,{section_key:i},c('Arbiter').BEHAVIOR_STATE);},navBarLoaded:function(){c('Arbiter').inform(this.NAV_BAR_LOADED,{},c('Arbiter').BEHAVIOR_STATE);},adjustAds:function(){c('Arbiter').inform(this.ADJUST_ADS,{},c('Arbiter').BEHAVIOR_STATE);}};f.exports=h;},null);
__d('PagesSideAds',['csx','cx','Arbiter','CSS','DOM','EgoAdsObjectSet','Event','PagesTimelineController','Parent','Vector','ViewportBounds','throttle','tidyEvent'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){'use strict';this.$PagesSideAds1=k;var l=this.adjustAds.bind(this);c('tidyEvent')(c('Arbiter').subscribe(c('PagesTimelineController').ADJUST_ADS,l));c('tidyEvent')(c('Arbiter').subscribe('netego_loaded',l));c('tidyEvent')(c('Event').listen(window,'resize',c('throttle')(l)));}j.prototype.adjustAds=function(){'use strict';var k=c('DOM').scry(this.$PagesSideAds1,'div.ego_unit');if(k.length){this.$PagesSideAds2=new (c('EgoAdsObjectSet'))();this.$PagesSideAds2.init(k);this.$PagesSideAds3=c('Parent').bySelector(this.$PagesSideAds1,"._23xb");this.$PagesSideAds4=c('DOM').scry(this.$PagesSideAds1,'div.uiHeader');var l=this.getNumAdsToShow();this.showAds(l);}return false;};j.prototype.getNumAdsToShow=function(){'use strict';var k=this.getAvailableSpace(),l=0;while(k>0&&l<this.$PagesSideAds2.getCount()){var m=this.getAdHeight(l);k-=m;if(k>=0)l++;}return l;};j.prototype.getAdHeight=function(k){'use strict';var l=this.$PagesSideAds2.getUnit(k);return l.offsetHeight;};j.prototype.showAds=function(k){'use strict';this.$PagesSideAds2.forEach(function(l,m){this.renderOffScreen(l,m>=k);},this);this.renderOffScreen(this.$PagesSideAds1,k===0);};j.prototype.renderOffScreen=function(k,l){'use strict';c('CSS').conditionClass(k,"_19x_",l);k.setAttribute('aria-hidden',l?'true':'false');};j.prototype.getAvailableSpace=function(){'use strict';var k=this.$PagesSideAds4&&this.$PagesSideAds4.offsetHeight||0;return c('Vector').getViewportDimensions().y-c('ViewportBounds').getBottom()-c('PagesTimelineController').BOTTOM_OFFSET-(this.$PagesSideAds3.getBoundingClientRect().top+k);};f.exports=j;},null);
__d('PagesTimelineSearchBar.react',['ix','cx','fbt','Arbiter','PagesEventObserver','PagesEventType','React','Image.react','XUIButton.react','XUITextInput.react','fbglyph'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'PagesTimelineSearchBar',_lastQuery:'',propTypes:{pageID:k.string.isRequired,searchQuery:k.string.isRequired,maxLength:k.number.isRequired},getInitialState:function(){return {query:this.props.searchQuery,disabled:false};},componentWillMount:function(){c('Arbiter').subscribe('PagesTimelineSearch/searchDone',this._onSearchDone);},render:function(){var m=j._("Search for posts on this Page"),n=null;if(!this.state.disabled&&this.state.query)n=c('React').createElement(c('XUIButton.react'),{className:"_5wkw",image:c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/cross_16_bluegray-40.png")}),alt:j._("Clear"),onClick:this._onClear});var o=this.state.disabled?"_1fa6 _1wqb":"_1fa6";return (c('React').createElement('div',{className:o},c('React').createElement(c('XUIButton.react'),{className:"_3fbq",image:c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/magnifying-glass_16_bluegray-40.png")}),alt:j._("Search"),disabled:this.state.disabled,onClick:this._onSearch}),c('React').createElement(c('XUITextInput.react'),{className:"_3fbp",onChange:this._onChange,placeholder:m,value:this.state.query,onEnter:this._onSearch,disabled:this.state.disabled}),n));},_onClear:function(event){if(!this._lastQuery){this.setState({query:''});}else if(!this.state.disabled){this.setState({disabled:true,query:''});c('Arbiter').inform('PagesTimelineSearch/search',{query:''});c('PagesEventObserver').notify(c('PagesEventType').SEARCH_TIMELINE_POSTS,this.props.pageID,{searchTerm:''});}},_onChange:function(event){var m=event.target.value;if(m.length<=this.props.maxLength)this.setState({query:m});},_onSearch:function(event){if(!this.state.disabled){this.setState({disabled:true});c('Arbiter').inform('PagesTimelineSearch/search',{query:this.state.query});c('PagesEventObserver').notify(c('PagesEventType').SEARCH_TIMELINE_POSTS,this.props.pageID,{searchTerm:this.state.query});}},_onSearchDone:function(m,n){if(n.query===this.state.query){this.setState({disabled:false});this._lastQuery=n.query;}}});f.exports=l;},null);
__d('PagesPostsSearch',['cx','Arbiter','CSS','DOM','LoadingIndicator.react','React','ReactDOM','Run','SubscriptionsHandler','UIPagelet'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=100,j={searchPosts:function(k,l,m){this._pageID=k;this._postsContainer=l;this._searchResultsContainer=m;var n=new (c('SubscriptionsHandler'))();n.addSubscriptions(c('Arbiter').subscribe('PagesTimelineSearch/search',this._handleSearchBarAction.bind(this)));c('Run').onLeave(function(){return n.release();});},_handleSearchBarAction:function(k,l){this._query=l.query;if(this._query!==''){this._handleSearch();}else this._handleClearField();setTimeout(function(){c('Arbiter').inform('PagesTimelineSearch/searchDone',{query:this._query});}.bind(this),i);},_handleSearch:function(){c('CSS').hide(this._postsContainer);c('ReactDOM').render(c('React').createElement('div',{className:"_3x9t"},c('React').createElement(c('LoadingIndicator.react'),{color:'white',size:'large'})),this._searchResultsContainer);c('UIPagelet').loadFromEndpoint('PagePostsSearchResultsPagelet',this._searchResultsContainer,{page_id:this._pageID,search_query:this._query});},_handleClearField:function(){c('DOM').setContent(this._searchResultsContainer,null);c('CSS').show(this._postsContainer);}};f.exports=j;},null);
__d('TimelineCommentsLoader',['Event','CommentPrelude','CSS','DOM','Parent','emptyFunction'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={init:function(){h.init=c('emptyFunction');c('Event').listen(document.body,'click',function(i){var j=c('Parent').byClass(i.getTarget(),'fbTimelineFeedbackCommentLoader');if(j){i.kill();c('CommentPrelude').click(j,false,'timeline_comments_loader');var k=c('Parent').byTag(j,'form'),l=c('DOM').scry(k,'li.uiUfiViewAll input');if(!l.length)l=c('DOM').scry(k,'li.fbUfiViewPrevious input');if(!l.length)l=c('DOM').scry(k,'a.UFIPagerLink');l[0].click();c('CSS').show(c('DOM').find(k,'li.uiUfiComments'));c('CSS').removeClass(j,'fbTimelineFeedbackCommentLoader');}});}};f.exports=h;},null);
__d('MorePagerFetchOnScroll',['AsyncRequest','DOMQuery','Event','Style','Vector','throttle'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};function i(j,k,l){'use strict';this._pager=j;this._offset=k||0;this._hasEventHandlers=false;if(l)this.setup();h[j.id]=this;}i.prototype.setup=function(){'use strict';this._scrollParent=c('Style').getScrollParent(this._pager);this.setPagerInViewHandler(this._defaultPagerInViewHandler.bind(this));if(!this.check()){this._scrollListener=c('Event').listen(this._scrollParent,'scroll',c('throttle')(function(){this.check();}.bind(this),50));this._clickListener=c('Event').listen(this._scrollParent,'click',c('throttle')(function(){this.check();}.bind(this),50));this._hasEventHandlers=true;}};i.prototype.check=function(){'use strict';if(!c('DOMQuery').contains(document.body,this._pager)){this.removeEventListeners();return true;}var j=c('Vector').getElementPosition(this._pager).y,k=this._scrollParent===window?c('Vector').getViewportDimensions().y:c('Vector').getElementDimensions(this._scrollParent).y,l=this._scrollParent===window?c('Vector').getScrollPosition().y+k:c('Vector').getElementPosition(this._scrollParent).y+k;if(j-this._offset<l){this._inViewHandler();this.removeEventListeners();return true;}return false;};i.prototype.removeEventListeners=function(){'use strict';if(this._hasEventHandlers){this._scrollListener&&this._scrollListener.remove();this._clickListener&&this._clickListener.remove();this._hasEventHandlers=false;}};i.prototype.setPagerInViewHandler=function(j){'use strict';this._inViewHandler=j;return this;};i.prototype._defaultPagerInViewHandler=function(){'use strict';var j=c('DOMQuery').scry(this._pager,'a')[0];if(j)c('AsyncRequest').bootstrap(j.getAttribute('ajaxify')||j.href,j);};i.getInstance=function(j){'use strict';return h[j];};f.exports=i;},null);